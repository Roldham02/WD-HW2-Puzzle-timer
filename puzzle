<div id="puzzle-container">
  <input type="file" id="image-upload" accept="image/*">
  <button onclick="shufflePuzzle()">Shuffle</button>
  <div id="puzzle-grid"></div>
</div>

<script>
let gridSize = 3; // Can be modified to 4x4
let puzzlePieces = [];

function createPuzzle(imgUrl) {
  const container = document.getElementById('puzzle-grid');
  container.style.gridTemplateColumns = `repeat(${gridSize}, 1fr)`;
  
  for(let i=0; i<gridSize*gridSize; i++) {
    const piece = document.createElement('div');
    piece.className = 'puzzle-piece';
    piece.style.backgroundImage = `url(${imgUrl})`;
    piece.style.backgroundSize = `${gridSize * 100}%`;
    piece.dataset.position = i;
    puzzlePieces.push(piece);
  }
  shufflePuzzle();
}

function shufflePuzzle() {
  const shuffled = puzzlePieces.sort(() => Math.random() - 0.5);
  document.getElementById('puzzle-grid').replaceChildren(...shuffled);
}
</script>
